<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attivit√† Progetto Cybersecurity - Data Viewer</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #2c3e50;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .title {
            font-size: 2.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 12px;
            letter-spacing: -0.02em;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #64748b;
            font-weight: 400;
            line-height: 1.6;
        }
        
        .input-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .textarea {
            width: 100%;
            min-height: 220px;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 20px;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #fafbfc;
        }
        
        .textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
            background: white;
        }
        
        .controls {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
            display: flex;
            gap: 24px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .filter-input {
            flex: 1;
            min-width: 300px;
            padding: 16px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            font-size: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
        }
        
        .filter-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
        }
        
        .sort-controls {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .sort-button {
            padding: 12px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px;
        }
        
        .sort-button:hover {
            border-color: #667eea;
            background: #f8fafc;
        }
        
        .sort-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }
        
        .metadata-section {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .metadata-title {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .metadata-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .metadata-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .metadata-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .metadata-value {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .results-count {
            font-size: 1.1rem;
            color: #64748b;
            font-weight: 500;
        }
        
        .activities-grid {
            display: grid;
            gap: 24px;
        }
        
        .activity-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 36px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .activity-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .activity-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 32px 64px rgba(0, 0, 0, 0.15);
        }
        
        .activity-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
            gap: 20px;
        }
        
        .activity-code {
            font-family: 'SF Mono', 'Monaco', monospace;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 0.9rem;
            font-weight: 700;
            letter-spacing: 0.05em;
        }
        
        .activity-name {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
            line-height: 1.3;
        }
        
        .activity-category {
            background: #f1f5f9;
            color: #475569;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            display: inline-block;
        }
        
        .activity-description {
            font-size: 1rem;
            color: #64748b;
            line-height: 1.7;
            margin-bottom: 32px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .info-section {
            background: #f8fafc;
            border-radius: 8px;
            padding: 12px;
            border-left: 4px solid #667eea;
        }
        
        .info-section h4 {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
        }
        
        .info-section p {
            color: #64748b;
            line-height: 1.6;
        }
        
        .deadlines-section {
            margin-top: 16px;
        }
        
        .section-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 10px;
            padding-bottom: 6px;
            border-bottom: 3px solid #e2e8f0;
        }
        
        .deadlines-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 8px;
        }
        
        .deadline-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .deadline-card.urgent {
            border-color: #ef4444;
            background: linear-gradient(135deg, #fef2f2 0%, #fff1f2 100%);
        }
        
        .deadline-card.warning {
            border-color: #f59e0b;
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
        }
        
        .deadline-card.safe {
            border-color: #10b981;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        }
        
        .deadline-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }
        
        .deadline-phase {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .deadline-date {
            font-size: 1rem;
            margin-bottom: 8px;
            color: #64748b;
        }
        
        .deadline-days {
            font-size: 1.2rem;
            font-weight: 700;
        }
        
        .deadline-card.urgent .deadline-days {
            color: #dc2626;
        }
        
        .deadline-card.warning .deadline-days {
            color: #d97706;
        }
        
        .deadline-card.safe .deadline-days {
            color: #059669;
        }
        
        .regulations-section {
            margin-top: 32px;
        }
        
        .regulations-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 16px;
        }
        
        .regulation-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .regulation-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .error {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 20px 28px;
            border-radius: 16px;
            margin: 20px 0;
            font-weight: 600;
            box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3);
        }
        
        .empty-state {
            text-align: center;
            padding: 80px 20px;
            color: #64748b;
        }
        
        .empty-state h3 {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 12px;
            color: #334155;
        }
        
        .empty-state p {
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        @media (max-width: 768px) {
            .title {
                font-size: 2.2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-input {
                min-width: auto;
            }
            
            .activity-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const attivit√†JSON = JSON.stringify({
    "metadati": {
        "data_estrazione_scadenze": "2025-08-14",
        "data_integrazione": "2025-08-14"
    },
    "items": [
        {
            "codice": "ACT-001",
            "nome": "Matrice di Analisi (Excel)",
            "categoria": "Attivit√† di Consulenza",
            "dato": "Realizzazione di un file Excel contenente una matrice completa di tutti i punti da analizzare durante le consulenze, con riferimento a IEC 62443-3-3, 4-1, 4-2, ISO 27001, NIS2, Direttiva Macchine, Cyber Resilience Act, NIST e NEC-2023.",
            "riferimento_documento": "Punto 1 (Matrice di Analisi)",
            "utilizzo_in_offerte": "Base per l‚Äôofferta ‚ÄòConsulenza per l‚ÄôImplementazione della Cybersecurity IEC 62443‚Äô, che promuove la conformit√† normativa e la personalizzazione per clienti come Breton.",
            "offerta_collegata": "Consulenza per l‚ÄôImplementazione della Cybersecurity IEC 62443",
            "scadenze": [
                {
                    "fase": "Bozza",
                    "data_scadenza": "2025-09-15",
                    "giorni_mancanti": 31
                },
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-09-30",
                    "giorni_mancanti": 46
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "Direttiva Macchine (MD)",
                "Cyber Resilience Act (CRA)",
                "NIST CSF 2",
                "CISA Guidelines",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-002",
            "nome": "Premio: JSON per implementazioni future (Matrice di Analisi)",
            "categoria": "Attivit√† di Consulenza",
            "dato": "Creazione di un JSON che mette in relazione i requisiti di IEC 62443, altre normative (ISO 27001, NIS2, Direttiva Macchine, CRA, NIST, NEC-2023) e bozze di policy/procedure per prodotti Siemens, Intouch e txOne.",
            "riferimento_documento": "Punto 1 (Matrice di Analisi, Premio)",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòConsulenza per l‚ÄôImplementazione della Cybersecurity IEC 62443‚Äô, fornendo una struttura dati per audit e conformit√†.",
            "offerta_collegata": "Consulenza per l‚ÄôImplementazione della Cybersecurity IEC 62443",
            "scadenze": [
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-12-31",
                    "giorni_mancanti": 138
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "Direttiva Macchine (MD)",
                "Cyber Resilience Act (CRA)",
                "NIST CSF 2",
                "CISA Guidelines",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-003",
            "nome": "Materiali per la Formazione dei Clienti",
            "categoria": "Formazione",
            "dato": "Creazione di slide per corsi di formazione su IEC 62443 (struttura generale, sezioni 3-3, 4-1, 4-2), NIS2, ISO 27001 e NEC-2023, con sezioni specifiche per system integrator e produttori di macchine, da erogare a clienti come Breton e Starpool.",
            "riferimento_documento": "Punto 2 (Materiali per la Formazione dei Clienti)",
            "utilizzo_in_offerte": "Base per l‚Äôofferta ‚ÄòFormazione su Cybersecurity OT/ICS‚Äô, che descrive corsi personalizzati con esempi pratici, come il caso di Piovan, per coinvolgere i clienti.",
            "offerta_collegata": "Formazione su Cybersecurity OT/ICS",
            "scadenze": [
                {
                    "fase": "Bozza",
                    "data_scadenza": "2025-08-31",
                    "giorni_mancanti": 16
                },
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-09-15",
                    "giorni_mancanti": 31
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-004",
            "nome": "Premio: Erogazione corsi di formazione a interni e clienti",
            "categoria": "Formazione",
            "dato": "Erogazione di corsi di formazione su IEC 62443, ISO 27001, NIS2 e NEC-2023 per collaboratori interni e clienti, con focus su applicazioni pratiche per system integrator e produttori.",
            "riferimento_documento": "Punto 2 (Materiali per la Formazione dei Clienti, Premio)",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòFormazione su Cybersecurity OT/ICS‚Äô, rafforzando l‚Äôimpegno di Logbot nella formazione continua e personalizzata.",
            "offerta_collegata": "Formazione su Cybersecurity OT/ICS",
            "scadenze": [
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-12-31",
                    "giorni_mancanti": 138
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-005",
            "nome": "Bozza di Policy e Procedure",
            "categoria": "Policy e Procedure",
            "dato": "Fornitura di template personalizzabili per policy e procedure (es. gestione password, vulnerabilit√†) basati su IEC 62443-4-1, ISO 27001 e NIS2, con responsabilit√† del cliente per la redazione finale.",
            "riferimento_documento": "Punto 3 (Bozza di Policy e Procedure)",
            "utilizzo_in_offerte": "Base per l‚Äôofferta ‚ÄòTemplate di Policy e Procedure per la Cybersecurity‚Äô, che promuove template adattabili con supporto consulenziale.",
            "offerta_collegata": "Template di Policy e Procedure per la Cybersecurity",
            "scadenze": [
                {
                    "fase": "Bozza",
                    "data_scadenza": "2025-09-30",
                    "giorni_mancanti": 46
                },
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-10-15",
                    "giorni_mancanti": 61
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2"
            ]
        },
        {
            "codice": "ACT-006",
            "nome": "Premio: Bozze policy e procedure per prodotti Siemens, Intouch e txOne",
            "categoria": "Policy e Procedure",
            "dato": "Creazione di bozze di policy e procedure specifiche per prodotti Siemens, Intouch e txOne, conformi a IEC 62443, ISO 27001 e NIS2.",
            "riferimento_documento": "Punto 3 (Bozza di Policy e Procedure, Premio)",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòTemplate di Policy e Procedure per la Cybersecurity‚Äô, con focus su prodotti specifici per clienti pilota.",
            "offerta_collegata": "Template di Policy e Procedure per la Cybersecurity",
            "scadenze": [
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-12-31",
                    "giorni_mancanti": 138
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2"
            ]
        },
        {
            "codice": "ACT-007",
            "nome": "Documento per l‚ÄôAudit",
            "categoria": "Attivit√† di Audit",
            "dato": "Preparazione di un documento con domande puntuali per audit su IEC 62443-4-1, 4-2 e 3-3, con processo LLM-assisted per identificare componenti, flussi di dati e minacce.",
            "riferimento_documento": "Punto 4 (Documento per l‚ÄôAudit)",
            "utilizzo_in_offerte": "Base per l‚Äôofferta ‚ÄòAudit Assistiti da AI per Sistemi IACS‚Äô, che promuove un processo di audit avanzato con supporto AI.",
            "offerta_collegata": "Audit Assistiti da AI per Sistemi IACS",
            "scadenze": [
                {
                    "fase": "Bozza",
                    "data_scadenza": "2025-09-30",
                    "giorni_mancanti": 46
                },
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-10-15",
                    "giorni_mancanti": 61
                }
            ],
            "normative_collegate": [
                "IEC 62443"
            ]
        },
        {
            "codice": "ACT-008",
            "nome": "Premio: Audit su cliente pilota Breton",
            "categoria": "Attivit√† di Audit",
            "dato": "Esecuzione di un audit di cybersecurity sul cliente pilota Breton, con focus su sistemi IACS e componenti conformi a IEC 62443.",
            "riferimento_documento": "Punto 4 (Documento per l‚ÄôAudit, Premio)",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòAudit Assistiti da AI per Sistemi IACS‚Äô, dimostrando applicazioni pratiche su clienti pilota.",
            "offerta_collegata": "Audit Assistiti da AI per Sistemi IACS",
            "scadenze": [
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-12-31",
                    "giorni_mancanti": 138
                }
            ],
            "normative_collegate": [
                "IEC 62443"
            ]
        },
        {
            "codice": "ACT-009",
            "nome": "Schema per il Report Finale",
            "categoria": "Governance e Maturity Level",
            "dato": "Creazione di uno schema per il report finale, integrando matrice di analisi, bozze di policy e risultati di analisi di rete (es. Universit√† di Padova).",
            "riferimento_documento": "Punto 5 (Schema per il Report Finale)",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòValutazione del Maturity Level e Governance‚Äô, fornendo un framework per report chiari e conformi.",
            "offerta_collegata": "Valutazione del Maturity Level e Governance",
            "scadenze": [
                {
                    "fase": "Bozza",
                    "data_scadenza": "2025-10-15",
                    "giorni_mancanti": 61
                },
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-10-31",
                    "giorni_mancanti": 77
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2"
            ]
        },
        {
            "codice": "ACT-010",
            "nome": "Premio: Redazione report finale su cliente pilota Breton",
            "categoria": "Governance e Maturity Level",
            "dato": "Redazione di un report finale per il cliente pilota Breton, integrando analisi di cybersecurity e valutazioni di Maturity Level.",
            "riferimento_documento": "Punto 5 (Schema per il Report Finale, Premio)",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòValutazione del Maturity Level e Governance‚Äô, dimostrando risultati concreti per clienti pilota.",
            "offerta_collegata": "Valutazione del Maturity Level e Governance",
            "scadenze": [
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-12-31",
                    "giorni_mancanti": 138
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2"
            ]
        },
        {
            "codice": "ACT-011",
            "nome": "Master Deck Promozionale",
            "categoria": "Attivit√† Promozionali",
            "dato": "Sviluppo di una presentazione completa per promuovere servizi di consulenza, formazione e strumenti tecnologici, con usecase su clienti pilota Breton e Piovan, conforme a normative come IEC 62443, ISO 27001, NIS2, Direttiva Macchine, CRA e NEC-2023.",
            "riferimento_documento": "Punto 6 (Master Deck Promozionale)",
            "utilizzo_in_offerte": "Base per tutte le offerte promozionali, con focus su conformit√† normativa e applicazioni pratiche.",
            "offerta_collegata": "Tutte le offerte",
            "scadenze": [
                {
                    "fase": "Bozza",
                    "data_scadenza": "2025-09-15",
                    "giorni_mancanti": 31
                },
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-09-30",
                    "giorni_mancanti": 46
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "Direttiva Macchine (MD)",
                "Cyber Resilience Act (CRA)",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-012",
            "nome": "Premio: Inclusione strumenti Logbot nel Master Deck",
            "categoria": "Attivit√† Promozionali",
            "dato": "Integrazione di strumenti IoT Logbot nel Master Deck, con specifiche definite dal team tecnico, conformi a IEC 62443 e NEC-2023.",
            "riferimento_documento": "Punto 6 (Master Deck Promozionale, Premio)",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòStrumenti IoT per la Cybersecurity in OT/ICS‚Äô, evidenziando la facilit√† di implementazione.",
            "offerta_collegata": "Strumenti IoT per la Cybersecurity in OT/ICS",
            "scadenze": [
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-12-31",
                    "giorni_mancanti": 138
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-013",
            "nome": "Articoli Tecnici",
            "categoria": "Attivit√† Promozionali",
            "dato": "Scrittura di cinque articoli tecnici su temi di cybersecurity (es. Security Program con AI, governance, audit AI-assistiti) per riviste, sito web e promozione, con riferimenti a IEC 62443, Direttiva Macchine e NEC-2023.",
            "riferimento_documento": "Punto 7 (Articoli Tecnici)",
            "utilizzo_in_offerte": "Supporta tutte le offerte promuovendo l‚Äôexpertise di Logbot in cybersecurity e normative.",
            "offerta_collegata": "Tutte le offerte",
            "scadenze": [
                {
                    "fase": "Articolo 1",
                    "data_scadenza": "2025-08-31",
                    "giorni_mancanti": 16
                },
                {
                    "fase": "Articolo 2",
                    "data_scadenza": "2025-09-30",
                    "giorni_mancanti": 46
                },
                {
                    "fase": "Articolo 3",
                    "data_scadenza": "2025-10-31",
                    "giorni_mancanti": 77
                },
                {
                    "fase": "Articolo 4",
                    "data_scadenza": "2025-11-30",
                    "giorni_mancanti": 107
                },
                {
                    "fase": "Articolo 5",
                    "data_scadenza": "2025-12-31",
                    "giorni_mancanti": 138
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "Direttiva Macchine (MD)",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-014",
            "nome": "Premio: Whitepaper e articolo per Il Sole 24 Ore",
            "categoria": "Attivit√† Promozionali",
            "dato": "Produzione di un whitepaper e un articolo per Il Sole 24 Ore su cybersecurity e normative, con focus su soluzioni Logbot, conforme a IEC 62443, Direttiva Macchine e NEC-2023.",
            "riferimento_documento": "Punto 7 (Articoli Tecnici, Premio)",
            "utilizzo_in_offerte": "Supporta tutte le offerte, promuovendo l‚Äôexpertise di Logbot e la conformit√† normativa.",
            "offerta_collegata": "Tutte le offerte",
            "scadenze": [
                {
                    "fase": "Definitivo",
                    "data_scadenza": "2025-12-31",
                    "giorni_mancanti": 138
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "Direttiva Macchine (MD)",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-015",
            "nome": "Ingaggio agenzie per attivit√† di promozione",
            "categoria": "Attivit√† Promozionali",
            "dato": "Collaborazione con agenzie per promuovere servizi di cybersecurity, formazione e strumenti IoT, in linea con normative come IEC 62443, ISO 27001, NIS2 e NEC-2023.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta tutte le offerte, amplificando la visibilit√† dei servizi Logbot.",
            "offerta_collegata": "Tutte le offerte",
            "scadenze": [
                {
                    "fase": "Inizio",
                    "data_scadenza": "2025-09-01",
                    "giorni_mancanti": 17
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-016",
            "nome": "Corso interno a collaboratori",
            "categoria": "Formazione",
            "dato": "Erogazione di un corso interno per collaboratori (es. nuovo assunto Siemens, Emanuele) su normative IEC 62443, ISO 27001, NIS2 e NEC-2023.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòFormazione su Cybersecurity OT/ICS‚Äô, dimostrando l‚Äôimpegno di Logbot nella preparazione interna.",
            "offerta_collegata": "Formazione su Cybersecurity OT/ICS",
            "scadenze": [
                {
                    "fase": "Erogazione",
                    "data_scadenza": "2025-09-30",
                    "giorni_mancanti": 46
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-017",
            "nome": "Corso Breton",
            "categoria": "Formazione",
            "dato": "Erogazione di un corso di formazione per il cliente pilota Breton su IEC 62443, ISO 27001, NIS2 e NEC-2023, con focus su applicazioni pratiche.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòFormazione su Cybersecurity OT/ICS‚Äô, evidenziando casi di successo con clienti pilota.",
            "offerta_collegata": "Formazione su Cybersecurity OT/ICS",
            "scadenze": [
                {
                    "fase": "Erogazione",
                    "data_scadenza": "2025-09-30",
                    "giorni_mancanti": 46
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-018",
            "nome": "Webinar Factory Software",
            "categoria": "Formazione",
            "dato": "Organizzazione di un webinar su software di fabbrica, con focus su cybersecurity e normative IEC 62443, ISO 27001, NIS2 e NEC-2023.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòFormazione su Cybersecurity OT/ICS‚Äô, promuovendo l‚Äôexpertise di Logbot attraverso eventi online.",
            "offerta_collegata": "Formazione su Cybersecurity OT/ICS",
            "scadenze": [
                {
                    "fase": "Erogazione",
                    "data_scadenza": "2025-10-01",
                    "giorni_mancanti": 47
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-019",
            "nome": "Audit Breton",
            "categoria": "Attivit√† di Audit",
            "dato": "Esecuzione di un audit di cybersecurity per il cliente pilota Breton, con focus su sistemi IACS e componenti conformi a IEC 62443.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòAudit Assistiti da AI per Sistemi IACS‚Äô, dimostrando applicazioni pratiche su clienti pilota.",
            "offerta_collegata": "Audit Assistiti da AI per Sistemi IACS",
            "scadenze": [
                {
                    "fase": "Erogazione",
                    "data_scadenza": "2025-10-15",
                    "giorni_mancanti": 61
                }
            ],
            "normative_collegate": [
                "IEC 62443"
            ]
        },
        {
            "codice": "ACT-020",
            "nome": "Fiera A&T",
            "categoria": "Attivit√† Promozionali",
            "dato": "Partecipazione alla fiera A&T per promuovere servizi di cybersecurity, formazione e strumenti IoT, in linea con normative come IEC 62443, ISO 27001, NIS2, Direttiva Macchine, CRA e NEC-2023.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta tutte le offerte, amplificando la visibilit√† dei servizi Logbot.",
            "offerta_collegata": "Tutte le offerte",
            "scadenze": [
                {
                    "fase": "Partecipazione",
                    "data_scadenza": "2025-10-15",
                    "giorni_mancanti": 61
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "Direttiva Macchine (MD)",
                "Cyber Resilience Act (CRA)",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-021",
            "nome": "Corso Starpool",
            "categoria": "Formazione",
            "dato": "Erogazione di un corso di formazione per il cliente pilota Starpool su IEC 62443, ISO 27001, NIS2 e NEC-2023, con focus su governance e Maturity Level.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòFormazione su Cybersecurity OT/ICS‚Äô e ‚ÄòValutazione del Maturity Level e Governance‚Äô, evidenziando casi di successo.",
            "offerta_collegata": "Formazione su Cybersecurity OT/ICS, Valutazione del Maturity Level e Governance",
            "scadenze": [
                {
                    "fase": "Erogazione",
                    "data_scadenza": "2025-10-15",
                    "giorni_mancanti": 61
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-022",
            "nome": "Relazione Piovan",
            "categoria": "Governance e Maturity Level",
            "dato": "Consegna di una relazione per il cliente pilota Piovan, con valutazioni di cybersecurity e conformit√† a IEC 62443, ISO 27001, NIS2 e NEC-2023.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòValutazione del Maturity Level e Governance‚Äô, dimostrando risultati concreti per clienti pilota.",
            "offerta_collegata": "Valutazione del Maturity Level e Governance",
            "scadenze": [
                {
                    "fase": "Consegna",
                    "data_scadenza": "2025-10-31",
                    "giorni_mancanti": 77
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-023",
            "nome": "Secondo corso Fenice",
            "categoria": "Formazione",
            "dato": "Erogazione di un secondo corso di formazione per Fenice su IEC 62443, ISO 27001, NIS2 e NEC-2023, con focus su applicazioni pratiche.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòFormazione su Cybersecurity OT/ICS‚Äô, rafforzando l‚Äôimpegno nella formazione continua.",
            "offerta_collegata": "Formazione su Cybersecurity OT/ICS",
            "scadenze": [
                {
                    "fase": "Erogazione",
                    "data_scadenza": "2025-11-30",
                    "giorni_mancanti": 107
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        },
        {
            "codice": "ACT-024",
            "nome": "Corso Factory",
            "categoria": "Formazione",
            "dato": "Erogazione di un corso di formazione per Factory su IEC 62443, ISO 27001, NIS2 e NEC-2023, con focus su cybersecurity in ambienti OT/ICS.",
            "riferimento_documento": "Timeline attivit√†",
            "utilizzo_in_offerte": "Supporta l‚Äôofferta ‚ÄòFormazione su Cybersecurity OT/ICS‚Äô, promuovendo l‚Äôexpertise di Logbot.",
            "offerta_collegata": "Formazione su Cybersecurity OT/ICS",
            "scadenze": [
                {
                    "fase": "Erogazione",
                    "data_scadenza": "2025-11-30",
                    "giorni_mancanti": 107
                }
            ],
            "normative_collegate": [
                "IEC 62443",
                "ISO 27001",
                "NIS2",
                "NEC-2023 (NFPA 70)"
            ]
        }
    ]
}, null, null);
        const { useState, useEffect, useMemo } = React;

        // Reusable Components
        const MetadataSection = ({ metadata }) => (
            <div className="metadata-section">
                <div className="metadata-title">Metadati Progetto</div>
                <div className="metadata-grid">
                    <div className="metadata-item">
                        <div className="metadata-label">Data Estrazione Scadenze</div>
                        <div className="metadata-value">{metadata.data_estrazione_scadenze || 'N/A'}</div>
                    </div>
                    <div className="metadata-item">
                        <div className="metadata-label">Data Integrazione</div>
                        <div className="metadata-value">{metadata.data_integrazione || 'N/A'}</div>
                    </div>
                </div>
            </div>
        );

        const RegulationTag = ({ regulation }) => (
            <span className="regulation-tag">{regulation}</span>
        );

        const DeadlineCard = ({ deadline }) => {
            const getUrgencyClass = (days) => {
                if (days <= 7) return 'urgent';
                if (days <= 30) return 'warning';
                return 'safe';
            };
            const giorni_mancanti = Math.ceil((new Date(deadline.data_scadenza) - new Date()) / (1000 * 60 * 60 * 24));

            return (
                <div className={`deadline-card ${getUrgencyClass(deadline.giorni_mancanti)}`}>
                    <div className="deadline-phase">{deadline.fase}</div>
                    <div className="deadline-date">{deadline.data_scadenza}</div>
                    <div className="deadline-days">
                        {/*deadline.*/giorni_mancanti} giorni rimanenti
                    </div>
                </div>
            );
        };

        const ActivityCard = ({ activity }) => (
            <div className="activity-card">
                <div className="activity-header">
                    <div>
                        <div className="activity-code">{activity.codice}</div>
                        <div className="activity-name">{activity.nome}</div>
                        <div className="activity-category">{activity.categoria}</div>
                    </div>
                </div>
                
                <div className="activity-description">{activity.dato}</div>
                
                <div className="info-grid">
                    <div className="info-section">
                        <h4>Riferimento Documento</h4>
                        <p>{activity.riferimento_documento}</p>
                    </div>
                    
                    <div className="info-section">
                        <h4>Offerta Collegata</h4>
                        <p>{activity.offerta_collegata}</p>
                    </div>
                </div>
                
                <div className="info-section" style={{ marginBottom: '32px' }}>
                    <h4>Utilizzo in Offerte</h4>
                    <p>{activity.utilizzo_in_offerte}</p>
                </div>
                
                {activity.scadenze && activity.scadenze.length > 0 && (
                    <div className="deadlines-section">
                        <div className="section-title">Scadenze</div>
                        <div className="deadlines-grid">
                            {activity.scadenze.map((deadline, index) => (
                                <DeadlineCard key={index} deadline={deadline} />
                            ))}
                        </div>
                    </div>
                )}
                
                {activity.normative_collegate && activity.normative_collegate.length > 0 && (
                    <div className="regulations-section">
                        <div className="section-title">Normative Collegate</div>
                        <div className="regulations-grid">
                            {activity.normative_collegate.map((regulation, index) => (
                                <RegulationTag key={index} regulation={regulation} />
                            ))}
                        </div>
                    </div>
                )}
            </div>
        );

        const FilterControls = ({ filter, onFilterChange, sortBy, onSortChange, resultsCount, totalCount }) => (
            <div className="controls">
                <input
                    type="text"
                    className="filter-input"
                    value={filter}
                    onChange={(e) => onFilterChange(e.target.value)}
                    placeholder="Filtra per codice, nome, categoria, normative, offerte..."
                />
                <div className="sort-controls">
                    <button
                        className={`sort-button ${sortBy === 'codice' ? 'active' : ''}`}
                        onClick={() => onSortChange('codice')}
                    >
                        Ordina per Codice
                    </button>
                    <button
                        className={`sort-button ${sortBy === 'scadenza' ? 'active' : ''}`}
                        onClick={() => onSortChange('scadenza')}
                    >
                        Ordina per Scadenza
                    </button>
                    <button
                        className={`sort-button ${sortBy === 'categoria' ? 'active' : ''}`}
                        onClick={() => onSortChange('categoria')}
                    >
                        Ordina per Categoria
                    </button>
                </div>
                <div className="results-count">
                    {resultsCount} di {totalCount} attivit√†
                </div>
            </div>
        );

        const App = () => {
            const [jsonInput, setJsonInput] = useState(attivit√†JSON);
            const [data, setData] = useState(null);
            const [error, setError] = useState('');
            const [filter, setFilter] = useState('');
            const [sortBy, setSortBy] = useState('codice');

            useEffect(() => {
                if (jsonInput.trim()) {
                    try {
                        const parsedData = JSON.parse(jsonInput);
                        setData(parsedData);
                        setError('');
                    } catch (err) {
                        setError('Errore nel parsing JSON: ' + err.message);
                        setData(null);
                    }
                } else {
                    setData(null);
                    setError('');
                }
            }, [jsonInput]);

            const filteredAndSortedItems = useMemo(() => {
                if (!data || !data.items) return [];
                
                let filtered = data.items;
                
                // Apply filter
                if (filter.trim()) {
                    const filterLower = filter.toLowerCase();
                    filtered = data.items.filter(item => {
                        const searchableText = [
                            item.codice,
                            item.nome,
                            item.categoria,
                            item.dato,
                            item.riferimento_documento,
                            item.utilizzo_in_offerte,
                            item.offerta_collegata,
                            ...(item.normative_collegate || []),
                            ...(item.scadenze?.map(s => s.fase) || [])
                        ].join(' ').toLowerCase();
                        
                        return searchableText.includes(filterLower);
                    });
                }
                
                // Apply sorting
                return filtered.sort((a, b) => {
                    switch (sortBy) {
                        case 'codice':
                            return a.codice.localeCompare(b.codice);
                        case 'categoria':
                            return a.categoria.localeCompare(b.categoria);
                        case 'scadenza':
                            const aMinDays = Math.min(...(a.scadenze?.map(s => s.giorni_mancanti) || [Infinity]));
                            const bMinDays = Math.min(...(b.scadenze?.map(s => s.giorni_mancanti) || [Infinity]));
                            return aMinDays - bMinDays;
                        default:
                            return 0;
                    }
                });
            }, [data, filter, sortBy]);

            const sampleJson = `{
  "metadati": {
    "data_estrazione_scadenze": "2024-08-16",
    "data_integrazione": "2024-08-16"
  },
  "items": [
    {
      "codice": "ACT-001",
      "nome": "Matrice di Analisi (Excel)",
      "categoria": "Attivit√† di Consulenza",
      "dato": "Realizzazione di un file Excel contenente una matrice completa di tutti i punti da analizzare durante le consulenze, con riferimento a IEC 62443-3-3, 4-1, 4-2, ISO 27001, NIS2, Direttiva Macchine, Cyber Resilience Act, NIST e NEC-2023.",
      "riferimento_documento": "Punto 1 (Matrice di Analisi)",
      "utilizzo_in_offerte": "Base per l'offerta 'Consulenza per l'Implementazione della Cybersecurity IEC 62443', che promuove la conformit√† normativa e la personalizzazione per clienti come Breton.",
      "offerta_collegata": "Consulenza per l'Implementazione della Cybersecurity IEC 62443",
      "scadenze": [
        {
          "fase": "Bozza",
          "data_scadenza": "2025-09-15",
          "giorni_mancanti": 31
        },
        {
          "fase": "Definitivo",
          "data_scadenza": "2025-09-30",
          "giorni_mancanti": 46
        }
      ],
      "normative_collegate": [
        "IEC 62443",
        "ISO 27001",
        "NIS2",
        "Direttiva Macchine (MD)",
        "Cyber Resilience Act (CRA)",
        "NIST CSF 2",
        "CISA Guidelines",
        "NEC-2023 (NFPA 70)"
      ]
    }
  ]
}`;

            return (
                <div className="container">
                    <div className="header">
                        <h1 className="title">Attivit√† Progetto Cybersecurity</h1>
                        <p className="subtitle">
                            Gestione e monitoraggio delle attivit√† di cybersecurity con scadenze, 
                            normative collegate e integrazione nelle offerte commerciali
                        </p>
                    </div>

                    <div className="input-section">
                        <h3 style={{ marginBottom: '20px', color: '#1e293b', fontSize: '1.3rem', fontWeight: '700' }}>
                            Carica Dati JSON Attivit√†
                        </h3>
                        <textarea
                            className="textarea"
                            value={jsonInput}
                            onChange={(e) => setJsonInput(e.target.value)}
                            placeholder={`Inserisci i dati JSON delle attivit√† di cybersecurity:\n\n${sampleJson}`}
                        />
                    </div>

                    {error && <div className="error">{error}</div>}

                    {data && (
                        <>
                            <MetadataSection metadata={data.metadati} />
                            
                            <FilterControls
                                filter={filter}
                                onFilterChange={setFilter}
                                sortBy={sortBy}
                                onSortChange={setSortBy}
                                resultsCount={filteredAndSortedItems.length}
                                totalCount={data.items?.length || 0}
                            />

                            <div className="activities-grid">
                                {filteredAndSortedItems.length > 0 ? (
                                    filteredAndSortedItems.map((item, index) => (
                                        <ActivityCard key={index} activity={item} />
                                    ))
                                ) : (
                                    <div className="empty-state">
                                        <h3>Nessuna attivit√† trovata</h3>
                                        <p>Prova a modificare i criteri di ricerca o verifica i dati inseriti</p>
                                    </div>
                                )}
                            </div>
                        </>
                    )}

                    {!data && !error && (
                        <div className="empty-state">
                            <h3>Inserisci i dati delle attivit√† per iniziare</h3>
                            <p>Copia e incolla i dati JSON delle attivit√† di cybersecurity nell'area di testo sopra</p>
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>